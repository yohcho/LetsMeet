{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\richk\\\\Documents\\\\GitHub\\\\LetsMeet\\\\client\\\\src\\\\user\\\\home\\\\groups\\\\currentGroups\\\\meetings\\\\indivMeetingAdmin.js\";\nimport { useState } from 'react';\nimport { PieChart } from 'react-minimal-pie-chart';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst IndivMeetingAdmin = props => {\n  const details = props.meeting;\n  const startDate = details.range[0].split(\"T\")[0];\n  const endDate = details.range[1].split(\"T\")[0];\n  const startString = props.meeting.timeRangeStart.split(\":\");\n  const endString = props.meeting.timeRangeEnd.split(\":\");\n  const startTime = parseInt(startString[0]) + (startString[1] !== \"0\" && 0.5);\n  const endTime = parseInt(endString[0]) + (endString[1] !== \"0\" && 0.5);\n\n  const getTime = (date, end) => {\n    const amOrpm = date.getHours() > 12 ? \" pm\" : \" am\";\n    if (amOrpm === \" pm\") date.setHours(date.getHours() - 12);\n    const dateString = `${date}`;\n    if (!end) return `${dateString.substring(0, dateString.lastIndexOf(\":\"))}${amOrpm}`;else return `${date.getHours()}:${date.getMinutes() === 0 ? \"00\" : \"30\"}${amOrpm}`;\n  };\n\n  const slotToTime = slot => {\n    const time = slot.split(\"-\");\n    time[0] = parseInt(time[0]) + startTime * 2;\n    time[1] = parseInt(time[1]);\n    const date = new Date(startDate);\n    console.log(date, startDate);\n    date.setDate(date.getDate() + time[1]);\n    date.setTime(date.getTime() + time[0] * 30 * 60 * 1000);\n    const endTime = new Date(date);\n    endTime.setTime(endTime.getTime() + props.meeting.duration * 60 * 60 * 1000);\n    return `${getTime(date)} ~ ${getTime(endTime, true)}`;\n  };\n\n  const fetchSubmission = () => {\n    const uploads = details.haveUploaded;\n\n    for (const upload of uploads) {\n      for (const slot of upload.slots) slotToTime(slot);\n    }\n  };\n\n  const submissionsMap = fetchSubmission();\n\n  const createUsersDisplay = uploaded => {\n    const usersList = uploaded ? props.meeting.haveUploaded : props.meeting.haveNotUploaded;\n    return usersList.map(user => {\n      const email = user.user ? user.user : user;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: email\n      }, email, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this);\n    });\n  };\n\n  const slotToDate = (key, num) => {};\n\n  const slotSubmissionDisplay = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"groups-page-content-main-current-individualDisplay-full-section-indiv-full-content1-contentadmin-chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  };\n\n  const handleCreateMeetingSlots = () => {};\n\n  const selectMeetingSlot = slot => {};\n\n  const displayMeetingSlots = () => {};\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"groups-page-content-main-current-individualDisplay-full-section-indiv-\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"groups-page-content-main-current-individualDisplay-full-section-indiv-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"groups-page-content-main-current-individualDisplay-full-section-indiv-full-content1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"groups-page-content-main-current-individualDisplay-full-section-indiv-full-content1-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: `Member availabilities from ${startDate} to ${endDate}: `\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCreateMeetingSlots,\n            children: \"Generate meeting slots\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"groups-page-content-main-current-individualDisplay-full-section-indiv-full-content1-contentadmin\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: `Submissions:`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), slotSubmissionDisplay()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"groups-page-content-main-current-individualDisplay-full-section-indiv-full-content2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Members who have submitted:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"groups-page-content-main-current-individualDisplay-full-section-indiv-full-content2-section\",\n          children: details.haveUploaded.length > 0 ? createUsersDisplay(true) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No members have submitted yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 87\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Members who haven't submitted:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"groups-page-content-main-current-individualDisplay-full-section-indiv-full-content2-section\",\n          children: details.haveNotUploaded.length > 0 ? createUsersDisplay(false) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"All members have submitted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 91\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n};\n\n_c = IndivMeetingAdmin;\nexport default IndivMeetingAdmin;\n\nvar _c;\n\n$RefreshReg$(_c, \"IndivMeetingAdmin\");","map":{"version":3,"names":["useState","PieChart","axios","IndivMeetingAdmin","props","details","meeting","startDate","range","split","endDate","startString","timeRangeStart","endString","timeRangeEnd","startTime","parseInt","endTime","getTime","date","end","amOrpm","getHours","setHours","dateString","substring","lastIndexOf","getMinutes","slotToTime","slot","time","Date","console","log","setDate","getDate","setTime","duration","fetchSubmission","uploads","haveUploaded","upload","slots","submissionsMap","createUsersDisplay","uploaded","usersList","haveNotUploaded","map","user","email","slotToDate","key","num","slotSubmissionDisplay","handleCreateMeetingSlots","selectMeetingSlot","displayMeetingSlots","length"],"sources":["C:/Users/richk/Documents/GitHub/LetsMeet/client/src/user/home/groups/currentGroups/meetings/indivMeetingAdmin.js"],"sourcesContent":["import { useState } from 'react';\nimport { PieChart } from 'react-minimal-pie-chart';\nimport axios from 'axios';\n\nconst IndivMeetingAdmin=(props)=>{\n    const details = props.meeting\n    const startDate = details.range[0].split(\"T\")[0]\n    const endDate = details.range[1].split(\"T\")[0]\n    const startString = props.meeting.timeRangeStart.split(\":\")\n    const endString = props.meeting.timeRangeEnd.split(\":\")\n    const startTime = parseInt(startString[0])+ (startString[1]!==\"0\" && 0.5)\n    const endTime = parseInt(endString[0])+ (endString[1]!==\"0\" && 0.5)\n\n    const getTime=(date,end)=>{\n        const amOrpm = date.getHours()>12? \" pm\" : \" am\"\n        if(amOrpm===\" pm\")\n            date.setHours(date.getHours()-12)\n        const dateString = `${date}`\n        if(!end)\n        return `${dateString.substring(0,dateString.lastIndexOf(\":\"))}${amOrpm}`\n        else\n        return `${date.getHours()}:${date.getMinutes()===0 ? \"00\" : \"30\"}${amOrpm}`\n    }\n\n    const slotToTime=(slot)=>{\n        const time = slot.split(\"-\")\n        time[0] = parseInt(time[0])+startTime*2\n        time[1] = parseInt(time[1])\n        const date = new Date(startDate)\n        console.log(date,startDate)\n        date.setDate(date.getDate()+time[1])\n        date.setTime(date.getTime()+(time[0]*30*60*1000))\n        const endTime= new Date(date)\n        endTime.setTime(endTime.getTime()+props.meeting.duration*60*60*1000)\n\n        return `${getTime(date)} ~ ${getTime(endTime,true)}`\n    }\n\n    const fetchSubmission=()=>{\n        const uploads = (details.haveUploaded)\n        for(const upload of uploads){\n            for(const slot of upload.slots)\n                slotToTime(slot)\n        }\n    }\n    const submissionsMap = fetchSubmission()\n\n    const createUsersDisplay=(uploaded)=>{\n        const usersList = uploaded ? props.meeting.haveUploaded : props.meeting.haveNotUploaded\n        return usersList.map(user=>{\n            const email = user.user ? user.user : user\n            return(\n                <div key={email}>\n                    {email}\n                </div>\n            )\n        })\n    }\n\n    const slotToDate=(key,num)=>{\n\n    }\n\n    const slotSubmissionDisplay=()=>{\n        return(\n            <div className='groups-page-content-main-current-individualDisplay-full-section-indiv-full-content1-contentadmin-chart'>\n                \n            </div>\n        )\n    }\n\n    const handleCreateMeetingSlots=()=>{\n\n    }\n    \n    const selectMeetingSlot=(slot)=>{\n\n    }\n\n    const displayMeetingSlots=()=>{\n\n    }\n\n    return(\n        <div className='groups-page-content-main-current-individualDisplay-full-section-indiv-'>\n            <div className='groups-page-content-main-current-individualDisplay-full-section-indiv-full'>\n                <div className='groups-page-content-main-current-individualDisplay-full-section-indiv-full-content1'>\n                    <div className='groups-page-content-main-current-individualDisplay-full-section-indiv-full-content1-header'>\n                        <p>{`Member availabilities from ${startDate} to ${endDate}: `}</p>\n                        {<button onClick={handleCreateMeetingSlots}>Generate meeting slots</button>}\n                    </div>\n                    <div className='groups-page-content-main-current-individualDisplay-full-section-indiv-full-content1-contentadmin'>\n                        <p>{`Submissions:`}</p>\n                        {slotSubmissionDisplay()}\n                    </div>\n                </div>\n                <div className='groups-page-content-main-current-individualDisplay-full-section-indiv-full-content2'>\n                    <p>Members who have submitted:</p>\n                    <div className='groups-page-content-main-current-individualDisplay-full-section-indiv-full-content2-section'>\n                        {details.haveUploaded.length > 0 ? createUsersDisplay(true) : <p>No members have submitted yet</p>}\n                    </div>                                    \n                    <p>Members who haven't submitted:</p>\n                    <div className='groups-page-content-main-current-individualDisplay-full-section-indiv-full-content2-section'>\n                        {details.haveNotUploaded.length > 0 ? createUsersDisplay(false) : <p>All members have submitted</p>}\n                    </div>    \n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default IndivMeetingAdmin;"],"mappings":"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"},"metadata":{},"sourceType":"module"}