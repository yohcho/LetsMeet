{"ast":null,"code":"import _slicedToArray from\"C:/Users/richk/Documents/GitHub/LetsMeet/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import\"./pendingGroups.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PendingGroups=function PendingGroups(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pendingGroups=_useState2[0],setPendingGroups=_useState2[1];var getPendingGroups=function getPendingGroups(){var config={method:\"get\",url:\"http://localhost:5000/api/users/getPendingGroups\",headers:{\"Content-type\":\"application/json\"},params:{email:props.userInfo.email}};axios(config).then(function(res){setPendingGroups(res.data.groups);}).catch(function(err){console.log(err);});};var handleAccept=function handleAccept(group){var config={method:\"post\",url:\"http://localhost:5000/api/users/acceptPendingUser\",headers:{\"Content-type\":\"application/json\"},params:{groupId:group.groupId,name:group.groupName,email:props.userInfo.email}};axios(config).then(function(res){props.rerender(function(prevRender){return!prevRender;});getPendingGroups();}).catch(function(err){console.log(err);});};var handleDecline=function handleDecline(group){setPendingGroups(function(prevPendingGroups){var newPendingGroups=prevPendingGroups.filter(function(pendingGroup){return pendingGroup.groupName!==group.groupName;});return newPendingGroups;});var config={method:\"post\",url:\"http://localhost:5000/api/users/rejectPendingUser\",headers:{\"Content-type\":\"application/json\"},params:{groupId:group.groupId,email:props.userInfo.email}};axios(config).then(function(res){getPendingGroups();}).catch(function(err){console.log(err);});};var createPendingGroupsDisplay=function createPendingGroupsDisplay(){if(pendingGroups.length===0)return/*#__PURE__*/_jsx(\"div\",{children:\"No Pending Invites\"});return pendingGroups.map(function(group){return/*#__PURE__*/_jsxs(\"div\",{className:\"groups-page-content-main-pending-indiv\",id:group.groupId,children:[/*#__PURE__*/_jsx(\"h4\",{children:group.groupName}),/*#__PURE__*/_jsxs(\"div\",{className:\"groups-page-content-main-pending-indiv-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleAccept(group);},children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDecline(group);},children:\"\\u274C\"})]})]},group.groupId);});};useEffect(function(){getPendingGroups();},[]);return/*#__PURE__*/_jsx(\"div\",{children:createPendingGroupsDisplay()});};export default PendingGroups;","map":{"version":3,"names":["React","useEffect","useState","axios","PendingGroups","props","pendingGroups","setPendingGroups","getPendingGroups","config","method","url","headers","params","email","userInfo","then","res","data","groups","catch","err","console","log","handleAccept","group","groupId","name","groupName","rerender","prevRender","handleDecline","prevPendingGroups","newPendingGroups","filter","pendingGroup","createPendingGroupsDisplay","length","map"],"sources":["C:/Users/richk/Documents/GitHub/LetsMeet/client/src/user/home/groups/pendingGroups/pendingGroups.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios'\nimport \"./pendingGroups.css\"\n\nconst PendingGroups=(props)=>{\n    const [pendingGroups,setPendingGroups] = useState([])\n    const getPendingGroups=()=>{\n        var config = {\n            method:\"get\",\n            url:\"http://localhost:5000/api/users/getPendingGroups\",\n            headers:{\n                \"Content-type\":\"application/json\"\n            },\n            params:{\n                email:props.userInfo.email\n            }\n        }\n        axios(config)\n        .then(res=>{\n            setPendingGroups(res.data.groups)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    const handleAccept=(group)=>{\n        var config = {\n            method:\"post\",\n            url:\"http://localhost:5000/api/users/acceptPendingUser\",\n            headers:{\n                \"Content-type\":\"application/json\"\n            },\n            params:{\n                groupId:group.groupId,\n                name:group.groupName,\n                email:props.userInfo.email\n            }\n        }\n        axios(config)\n        .then(res=>{\n            props.rerender(prevRender=>!prevRender)\n            getPendingGroups()\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }    \n    const handleDecline=(group)=>{\n        setPendingGroups(prevPendingGroups=>{\n            const newPendingGroups=prevPendingGroups.filter(pendingGroup=>pendingGroup.groupName!==group.groupName)\n            return newPendingGroups\n        })\n        var config = {\n            method:\"post\",\n            url:\"http://localhost:5000/api/users/rejectPendingUser\",\n            headers:{\n                \"Content-type\":\"application/json\"\n            },\n            params:{\n                groupId:group.groupId,\n                email:props.userInfo.email\n            }\n        }\n        axios(config)\n        .then(res=>{\n            getPendingGroups()\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n    const createPendingGroupsDisplay=()=>{\n        if(pendingGroups.length===0)\n            return(\n                <div>\n                    No Pending Invites\n                </div>\n            )\n        return pendingGroups.map(group=>{\n            return(\n                <div className='groups-page-content-main-pending-indiv' key={group.groupId} id={group.groupId}>\n                    <h4>{group.groupName}</h4>\n                    <div className='groups-page-content-main-pending-indiv-buttons'>\n                        <button onClick={()=>handleAccept(group)}>✅</button>\n                        <hr></hr>\n                        <button onClick={()=>handleDecline(group)}>❌</button>\n                    </div>\n                </div>\n            )\n        })\n    }\n    useEffect(()=>{\n        getPendingGroups()\n    },[])\n   \n    \n    return(\n        <div>\n            {createPendingGroupsDisplay()}\n        </div>\n    )\n}\n\nexport default PendingGroups"],"mappings":"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"},"metadata":{},"sourceType":"module"}