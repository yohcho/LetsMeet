{"ast":null,"code":"import _toConsumableArray from\"C:/Users/richk/Documents/GitHub/LetsMeet/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/richk/Documents/GitHub/LetsMeet/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useRef}from'react';import Dialog from'@mui/material/Dialog';import{DialogTitle,DialogContent}from'@mui/material';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateMeeting=function CreateMeeting(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var ref=useRef(null);var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),meetingName=_useState4[0],setMeetingName=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),meetingLength=_useState6[0],setMeetingLength=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),memberField=_useState8[0],setMemberField=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),members=_useState10[0],setMembers=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),startRange=_useState12[0],setStartRange=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),startTime=_useState14[0],setStartTime=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),endTime=_useState16[0],setEndTime=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),endRange=_useState18[0],setEndRange=_useState18[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setMeetingName(\"\");setMeetingLength(0);ref.current.value=\"\";setMembers([]);setOpen(false);};var handleAddMember=function handleAddMember(){setMembers(function(prevMembers){return[].concat(_toConsumableArray(prevMembers),[memberField]);});ref.current.value=\"\";};var removeAddedMember=function removeAddedMember(removeMember){setMembers(function(prevMembers){return prevMembers.filter(function(member){return member!==removeMember;});});};var handleCreateMeeting=function handleCreateMeeting(e){e.preventDefault();var data={self:props.userInfo.email,name:meetingName,length:meetingLength,addedMembers:members,range:[startRange,endRange],groupId:props.group,start:startTime,end:endTime};var config={method:\"post\",url:\"http://localhost:5000/api/meetings/createMeeting\",headers:{\"Content-type\":\"application/json\"},params:data};axios(config).then(function(res){handleClose();props.rerender(function(prevRender){return!prevRender;});}).catch(function(err){console.log(err);});};var addedMembersDisplay=function addedMembersDisplay(){return members.map(function(member){return/*#__PURE__*/_jsxs(\"div\",{children:[member,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return removeAddedMember(member);},children:\"X\"})]},member);});};var setTime=function setTime(val,state){var time=val.split(\":\");if(parseInt(time[1])<15)time[1]=\"00\";if(parseInt(time[1])>=45){time[0]=\"\".concat(parseInt(time[0])+1);time[1]=\"00\";}if(parseInt(time[1])<45&&parseInt(time[1])>=15){time[1]=\"30\";}if(state===\"start\")setStartTime(\"\".concat(time[0],\":\").concat(time[1]));if(state===\"end\")setEndTime(\"\".concat(time[0].length===1?\"0\".concat(time[0]):\"\".concat(time[0]),\":\").concat(time[1]));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"groups-page-content-main-current-individualDisplay-full-section-header-button\",onClick:handleClickOpen,children:\"Create New Meeting\"}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Create New Meeting\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setMeetingName(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Length:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setMeetingLength(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Add Members:\",/*#__PURE__*/_jsx(\"input\",{ref:ref,onChange:function onChange(e){return setMemberField(e.target.value);},onKeyDown:function onKeyDown(e){e.key===\"Enter\"&&handleAddMember();}})]}),/*#__PURE__*/_jsx(\"br\",{}),addedMembersDisplay(),/*#__PURE__*/_jsxs(\"label\",{children:[\"Date Range:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",onChange:function onChange(e){return setStartRange(e.target.value);}}),\"to\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",onChange:function onChange(e){return setEndRange(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Between the hours:\",/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:startTime,onChange:function onChange(e){return setTime(e.target.value,\"start\");}}),\"to\",/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:endTime,onChange:function onChange(e){return setTime(e.target.value,\"end\");}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:function onClick(e){return handleCreateMeeting(e);},children:\"Create\"})]})})]})]});};export default CreateMeeting;","map":{"version":3,"names":["useState","useRef","Dialog","DialogTitle","DialogContent","axios","CreateMeeting","props","open","setOpen","ref","meetingName","setMeetingName","meetingLength","setMeetingLength","memberField","setMemberField","members","setMembers","startRange","setStartRange","startTime","setStartTime","endTime","setEndTime","endRange","setEndRange","handleClickOpen","handleClose","current","value","handleAddMember","prevMembers","removeAddedMember","removeMember","filter","member","handleCreateMeeting","e","preventDefault","data","self","userInfo","email","name","length","addedMembers","range","groupId","group","start","end","config","method","url","headers","params","then","res","rerender","prevRender","catch","err","console","log","addedMembersDisplay","map","setTime","val","state","time","split","parseInt","target","key"],"sources":["C:/Users/richk/Documents/GitHub/LetsMeet/client/src/user/home/groups/currentGroups/meetings/createMeeting.js"],"sourcesContent":["import { useState, useRef } from 'react';\nimport Dialog from '@mui/material/Dialog';\nimport { DialogTitle, DialogContent } from '@mui/material';\nimport axios from 'axios';\n\nconst CreateMeeting = (props)=>{\n    const [open,setOpen] = useState(false)\n    const ref = useRef(null)\n\n    const [meetingName,setMeetingName] = useState(\"\")\n    const [meetingLength,setMeetingLength] = useState(0)\n    const [memberField,setMemberField] = useState(\"\")\n    const [members,setMembers] = useState([])\n    const [startRange,setStartRange] = useState(\"\")\n    const [startTime,setStartTime] = useState(\"\")\n    const [endTime,setEndTime] = useState(\"\")\n    const [endRange,setEndRange] = useState(\"\")\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setMeetingName(\"\")\n        setMeetingLength(0)\n        ref.current.value=\"\"\n        setMembers([])\n        setOpen(false);\n    };\n\n    const handleAddMember = ()=>{\n        setMembers(prevMembers=>{\n            return [...prevMembers,memberField]\n        })\n        ref.current.value=\"\"\n    }\n\n    const removeAddedMember = (removeMember)=>{\n        setMembers(prevMembers=>{\n            return prevMembers.filter(member=>member!==removeMember)\n        })\n    }\n\n    const handleCreateMeeting = (e)=>{\n        e.preventDefault()\n        const data={\n            self:props.userInfo.email,\n            name:meetingName,\n            length:meetingLength,\n            addedMembers:members,\n            range:[startRange,endRange],\n            groupId:props.group,\n            start:startTime,\n            end:endTime,\n        }\n        var config = {\n            method:\"post\",\n            url:\"http://localhost:5000/api/meetings/createMeeting\",\n            headers:{\n                \"Content-type\":\"application/json\"\n            },\n            params:data\n        }\n        axios(config)\n        .then(res=>{\n            handleClose()\n            props.rerender(prevRender=>!prevRender)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    const addedMembersDisplay = ()=>{\n        return members.map(member=>{\n            return(\n                <div key={member}>\n                    {member}\n                    <button type='button' onClick={()=>removeAddedMember(member)}>X</button>\n                </div>\n            )\n        })\n    }\n\n    const setTime=(val,state)=>{\n        const time = val.split(\":\")\n        if(parseInt(time[1])<15)\n            time[1]=\"00\"\n        if(parseInt(time[1])>=45){\n            time[0]=`${parseInt(time[0])+1}`\n            time[1]=\"00\"\n        }\n        if(parseInt(time[1])<45 && parseInt(time[1])>=15){\n            time[1]=\"30\"\n        }\n        if(state===\"start\")\n            setStartTime(`${time[0]}:${time[1]}`)\n        if(state===\"end\")\n            setEndTime(`${time[0].length===1 ? `0${time[0]}`: `${time[0]}`}:${time[1]}`)\n    }\n\n    return(\n        <div>\n            <button className='groups-page-content-main-current-individualDisplay-full-section-header-button' onClick={handleClickOpen}>\n                Create New Meeting\n            </button>\n            <Dialog open={open} onClose={handleClose}>\n                <DialogTitle>Create New Meeting</DialogTitle>\n                <DialogContent>\n                    <div>\n                        <label>Name:\n                            <input onChange={(e)=> setMeetingName(e.target.value)}></input>\n                        </label><br></br>\n                        <label>Length:\n                            <input type=\"number\" onChange={(e)=> setMeetingLength(e.target.value)}></input>\n                        </label><br></br>\n                        <label>Add Members:\n                            <input\n                                ref={ref}\n                                onChange={(e)=>setMemberField(e.target.value)}\n                                onKeyDown={(e)=>{\n                                    e.key===\"Enter\" && handleAddMember()\n                                }}\n                            ></input>\n                        </label><br></br>\n                        {addedMembersDisplay()}\n                        <label>Date Range:\n                            <input type=\"date\" onChange={(e)=> setStartRange(e.target.value)}></input>\n                            to\n                            <input type=\"date\" onChange={(e)=> setEndRange(e.target.value)}></input>\n                        </label><br></br>\n                        <label>Between the hours:\n                            <input type=\"time\" value={startTime} onChange={(e)=> setTime(e.target.value,\"start\")}></input>\n                            to\n                            <input type=\"time\" value={endTime} onChange={(e)=> setTime(e.target.value,\"end\")}></input>\n                        </label><br></br>\n                        <button type='submit' onClick={(e)=>handleCreateMeeting(e)}>Create</button>\n                    </div>\n                </DialogContent>\n            </Dialog>\n        </div>\n    )\n}\n\nexport default CreateMeeting"],"mappings":"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"},"metadata":{},"sourceType":"module"}